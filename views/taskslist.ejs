<%- include('partials/header') %>


<div class="container mt-5">
  <h1>Search Tasks</h1>

  <div class="row">
    <div class="col-sm-8">
      <div class="card">
        <div class="card-body">

          <!-- Makes GET request to /searchtasks route -->
          <form action="/tasks" method="POST">
            <div class="form-group">
              <label for="slot">Slot</label>
              <select class="form-control" name="slot">
                <option value="">Any</option>
                <option value="A1">A1</option>
                <option value="A2">A2</option>
                <option value="B1">B1</option>
                <option value="B2">B2</option>
                <option value="C1">C1</option>
                <option value="C2">C2</option>
                <option value="D1">D1</option>
                <option value="D2">D2</option>
                <option value="E1">E1</option>
                <option value="E2">E2</option>
                <option value="F1">F1</option>
                <option value="F2">F2</option>
                <option value="G1">G1</option>
                <option value="G2">G2</option>
              </select>
            </div>
            <div class="form-group">
              <label for="faculty">Faculty</label>
              <input type="text" class="form-control" name="faculty">
            </div>
            <div class="form-group">
              <label for="venue">Venue</label>
              <select class="form-control" name="venue">
                <option value="">Any</option>
                <option value="TT">TT</option>
                <option value="SJT">SJT</option>
                <option value="PRP">PRP</option>
                <option value="MB">MB</option>
                <option value="SMV">SMV</option>
                <option value="CDM">CDM</option>
                <option value="GDN">GDN</option>
              </select>
            </div>
            <div class="form-group">
              <label for="coursecode">Course Code</label>
              <input type="text" class="form-control" name="coursecode">
            </div>
            <button type="submit" class="btn btn-dark">Search Tasks</button>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>




<div class="container mt-5">
  <h1>Task List</h1>

  <div class="row">
    <div class="col-sm-12">
      <ul class="list-group">
        <% tasks.forEach(function(task) { %>
          <li class="list-group-item">
            <strong>Slot:</strong> <%= task.slot %><br>
            <% if (task.faculty) { %>
              <strong>Faculty:</strong> <%= task.faculty %><br>
            <% } %>
            <% if (task.venue) { %>
              <strong>Venue:</strong> <%= task.venue %><br>
            <% } %>
            <strong>Course Code:</strong> <%= task.coursecode %><br>
            <strong>Scheduled:</strong> <%= task.scheduled ? 'Yes' : 'No' %><br>
            <strong>Contact:</strong> <%= task.contact %><br> <!-- Added contact field -->
          </li>
        <% }) %>
      </ul>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
